<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>State Capitals Quiz</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h2>State Capitals Quiz</h2>
    <div class="subtitle">Learn all 50 state capitals!</div>

    <!-- Mode Selection Screen -->
    <div id="startScreen" class="start-screen">
        <div class="mode-selection">
            <h3>Choose Your Mode</h3>
            <div class="mode-buttons">
                <button class="mode-btn" id="studyModeBtn">
                    <span class="mode-icon">ðŸ“š</span>
                    <span class="mode-title">Study Mode</span>
                    <span class="mode-desc">Learn state capitals at your own pace</span>
                </button>
                <button class="mode-btn" id="quizModeBtn">
                    <span class="mode-icon">ðŸŽ¯</span>
                    <span class="mode-title">Quiz Mode</span>
                    <span class="mode-desc">Test your knowledge!</span>
                </button>
            </div>
        </div>

        <!-- Quiz Length Selection (hidden until Quiz Mode selected) -->
        <div id="quizLengthSection" class="quiz-length-section hidden">
            <h3>How many questions?</h3>
            <div class="length-buttons">
                <button class="length-btn" data-length="3">3 States</button>
                <button class="length-btn" data-length="5">5 States</button>
                <button class="length-btn selected" data-length="10">10 States</button>
                <button class="length-btn" data-length="20">20 States</button>
                <button class="length-btn" data-length="30">30 States</button>
                <button class="length-btn" data-length="40">40 States</button>
                <button class="length-btn" data-length="50">All 50 States</button>
            </div>
            <button class="start-btn" id="startQuizBtn">Start Quiz!</button>
        </div>
    </div>

    <!-- Map Container -->
    <div id="mapContainer" class="hidden">
        <div id="map"></div>

        <!-- Study Mode Panel -->
        <div id="studyPanel" class="study-panel hidden">
            <div class="study-header">
                <span class="study-progress" id="studyProgress">State 1 of 50</span>
                <button class="nav-btn" id="prevStateBtn">Previous</button>
                <button class="nav-btn" id="nextStateBtn">Next</button>
            </div>
            <div class="study-content">
                <div class="study-state" id="studyState">California</div>
                <div class="study-capital-label">Capital:</div>
                <div class="study-capital" id="studyCapital">Sacramento</div>
            </div>
            <div class="study-footer">
                <button class="control-btn" id="shuffleBtn">Shuffle States</button>
                <button class="control-btn" id="backToMenuBtn">Back to Menu</button>
            </div>
        </div>

        <!-- Quiz Mode Panel -->
        <div id="quizPanel" class="quiz-panel hidden">
            <div class="quiz-header">
                <div class="quiz-progress" id="quizProgress">Question 1 of 10</div>
                <div class="quiz-score" id="quizScore">Score: 0</div>
            </div>
            <div class="quiz-question" id="quizQuestion">What is the capital of California?</div>
            <div class="quiz-options" id="quizOptions">
                <!-- Options generated by JavaScript -->
            </div>
            <div class="quiz-feedback" id="quizFeedback"></div>
            <div class="stars-display" id="starsDisplay"></div>
        </div>

        <!-- Results Panel -->
        <div id="resultsPanel" class="results-panel hidden">
            <div class="results-header" id="resultsHeader">Quiz Complete!</div>
            <div class="results-score" id="resultsScore">You got 8 out of 10!</div>
            <div class="results-message" id="resultsMessage">Great job!</div>
            <div class="results-stars" id="resultsStars"></div>
            <div class="results-buttons">
                <button class="control-btn" id="tryAgainBtn">Try Again</button>
                <button class="control-btn" id="newQuizBtn">New Quiz</button>
                <button class="control-btn" id="backToMenuBtn2">Menu</button>
            </div>
        </div>
    </div>

    <div class="hover-instruction">Hover over a state to see details. Click on a state to zoom in.</div>

    <!-- Celebration Canvas Overlay -->
    <canvas id="celebrationCanvas"></canvas>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
